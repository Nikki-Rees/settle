(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(56)},34:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=a(65),u=a(67),i=a(68);var s=function(e){var t=e.children;return r.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron border border-info"},t)},m=a(66);function E(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function d(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function f(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}var p=function(){return r.a.createElement("body",{className:"hero-image"},r.a.createElement(E,{fluid:!0},r.a.createElement(d,null,r.a.createElement(f,{size:"md-6"},r.a.createElement("div",{class:"d-flex justify-content-start"},r.a.createElement(s,null,r.a.createElement("h1",null,"Landlord"),r.a.createElement("p",null,"Manage your property"),r.a.createElement(m.a,{outline:!0,color:"info",href:"/signup"},"Sign-up"),""))),r.a.createElement(f,{size:"md-6 sm-12"},r.a.createElement("div",{class:"d-flex justify-content-end"},r.a.createElement(s,null,r.a.createElement("h1",null,"Tenant"),r.a.createElement("p",null,"Maintain your home"),r.a.createElement(m.a,{outline:!0,color:"info"},"Sign-up"),""))))))},v=a(3),b=a(64),g=a(58),h=a(59),O=a(60),N=a(61),y=a(62),j=a(63),w=(a(34),a(11)),P=a.n(w),_={Signup:function(e){return P.a.post("/signup, signUpData").then(function(e){return window.location="/signin"})},Login:function(e){return P.a.post("/login, logInData").then(function(e){return window.location="./home",e}).catch(function(e){console.log("Error with login: ",e),e&&alert("Incorrect username or password")})},Logout:function(){return P.a.get("/logout").then(function(e){localStorage.removeItem("user"),window.location="./home"}).catch(function(e){console.log(e)})},getPosts:function(){return P.a.get("/api/posts")},getPost:function(e){return P.a.get("/api/posts/"+e)},deletePost:function(e){return P.a.delete("/api/posts/"+e)},savePost:function(e){var t=new FormData;return t.append("room",e.room),t.append("title",e.title),t.append("condition",e.condition),t.append("clean",e.clean),t.append("function",e.function),t.append("body",e.body),t.append("image",e.image),P.a.post("/api/posts",t)}},S=a(25),x=a(13),C=a(10),R="UPDATE_POSTS",k="REMOVE_POST",D="ADD_POST",T="LOADING",z="REMOVE_FAVORITE",A="UPDATE_FAVORITES",F=Object(n.createContext)(),I=F.Provider,q=function(e,t){switch(t.type){case"SET_CURRENT_POST":return Object(C.a)({},e,{currentPost:t.post,loading:!1});case R:return Object(C.a)({},e,{posts:Object(x.a)(t.posts),loading:!1});case D:return Object(C.a)({},e,{posts:[t.post].concat(Object(x.a)(e.posts)),loading:!1});case k:return Object(C.a)({},e,{posts:e.posts.filter(function(e){return e._id!==t._id})});case"ADD_FAVORITE":return Object(C.a)({},e,{favorites:[t.post].concat(Object(x.a)(e.favorites)),loading:!1});case A:return Object(C.a)({},e,{favorites:Object(x.a)(e.favorites),loading:!1});case z:return Object(C.a)({},e,{favorites:e.favorites.filter(function(e){return e._id!==t._id})});case T:return Object(C.a)({},e,{loading:!0});default:return e}},L=function(e){e.value;var t=Object(S.a)(e,["value"]),a=Object(n.useReducer)(q,{posts:[],currentPost:{_id:0,room:"",title:"",condition:"",clean:"",function:"",body:"",image:""},favorites:[],loading:!1}),l=Object(v.a)(a,2),c=l[0],o=l[1];return r.a.createElement(I,Object.assign({value:[c,o]},t))},V=function(){return Object(n.useContext)(F)},M=function(e){var t=V(),a=Object(v.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)(function(){c({type:T}),_.getPosts().then(function(e){c({type:R,posts:e.data})}).catch(function(e){return console.log(e)})},[]),r.a.createElement(E,{fluid:!0},r.a.createElement(d,null,r.a.createElement(f,{size:"md-12 md-offset-1"},r.a.createElement("div",{className:"main"},l.posts.length?r.a.createElement(g.a,null,l.posts.map(function(e){return r.a.createElement(h.a,{key:e._id},r.a.createElement(O.a,{top:!0,width:"100%",src:e.image,alt:e.title}),r.a.createElement(N.a,null,r.a.createElement(y.a,null,r.a.createElement("h5",null,e.room)),r.a.createElement(j.a,null,r.a.createElement("h6",null,"Feature: ",e.title)),r.a.createElement(j.a,null,r.a.createElement("h6",null,"Overall condition: ",e.condition)," "),r.a.createElement(b.a,{to:"/posts/"+e._id},r.a.createElement(m.a,null,"View details"))))})):r.a.createElement("h3",null,"You haven't added any features yet!")))))};var U=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useRef)(),u=Object(n.useRef)(),i=V(),s=Object(v.a)(i,2),m=(s[0],s[1]),E=Object(n.useState)(),d=Object(v.a)(E,2),f=d[0],p=d[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Add a feature"),r.a.createElement("form",{className:"form-group mt-5 mb-5",onSubmit:function(n){n.preventDefault(),m({type:T}),_.savePost({room:e.current.value,title:t.current.value,body:a.current.value,condition:l.current.value,clean:c.current.value,function:o.current.value,image:f}).then(function(e){m({type:D,post:e.data})}).catch(function(e){return console.log(e)}),e.current.value="",t.current.value="",l.current.value="",c.current.value="",o.current.value="",a.current.value="",u.current.value=""}},r.a.createElement("input",{className:"form-control mb-5",required:!0,ref:e,placeholder:"Location / Room name e.g. Kitchen"}),r.a.createElement("input",{className:"form-control mb-5",required:!0,ref:t,placeholder:"Name of your feature e.g. Kitchen sink"}),r.a.createElement("select",{className:"form-control mb-5",required:!0,ref:l},r.a.createElement("option",{value:""},"Select overall condition"),r.a.createElement("option",null,"Excellent"),r.a.createElement("option",null,"Very good"),r.a.createElement("option",null,"Good"),r.a.createElement("option",null,"Poor"),r.a.createElement("option",null,"Replacement required")),r.a.createElement("select",{className:"form-control mb-5",required:!0,ref:c},r.a.createElement("option",{value:""},"How clean is it?"),r.a.createElement("option",null,"As new"),r.a.createElement("option",null,"Squeaky clean"),r.a.createElement("option",null,"Acceptable"),r.a.createElement("option",null,"Cleaning required")),r.a.createElement("select",{className:"form-control mb-5",required:!0,ref:o},r.a.createElement("option",{value:""},"Does it function?"),r.a.createElement("option",null,"Functional"),r.a.createElement("option",null,"Not functional")),r.a.createElement("textarea",{className:"form-control mb-5",required:!0,ref:a,placeholder:"Description"}),r.a.createElement("input",{className:"form-control mb-5",type:"file",required:!0,ref:u,onChange:function(e){p(e.target.files[0])}}),r.a.createElement("button",{className:"btn btn-info mt-3 mb-5",type:"submit"},"Save feature"))))};a(53);function Y(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function B(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}a(54);var G=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var J=function(){var e=V(),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){l({type:T}),_.getPosts().then(function(e){l({type:R,posts:e.data})}).catch(function(e){return console.log(e)})},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Room features"),r.a.createElement("h3",{className:"mb-5 mt-5"},"Click on a feature to view"),a.posts.length?r.a.createElement(Y,null,a.posts.map(function(e){return r.a.createElement(B,{key:e._id},r.a.createElement(b.a,{to:"/posts/"+e._id},r.a.createElement("strong",null,e.title," in ",e.room)),r.a.createElement(G,{onClick:function(){return t=e._id,void _.deletePost(t).then(function(){l({type:k,_id:t})}).catch(function(e){return console.log(e)});var t}}))})):r.a.createElement("h3",null,"You haven't added any features yet!"),r.a.createElement("div",{className:"mt-5"},r.a.createElement(b.a,{to:"/favorites"},"View saved issues")))},K=function(){return r.a.createElement(E,{fluid:!0},r.a.createElement(d,null,r.a.createElement(f,{size:"md-12"},r.a.createElement(M,null))),r.a.createElement(d,null,r.a.createElement(f,{size:"md-6"},r.a.createElement(U,null)),r.a.createElement(f,{size:"md-6 sm-12"},r.a.createElement(J,null))))},H=function(e){var t=V(),a=Object(v.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)(function(){_.getPost(e.match.params.id).then(function(e){return c({type:"SET_CURRENT_POST",post:e.data})}).catch(function(e){return console.log(e)})},[]);return r.a.createElement(r.a.Fragment,null,l.currentPost?r.a.createElement(E,{fluid:!0},r.a.createElement(d,null,r.a.createElement(f,{size:"md-12"},r.a.createElement("img",{className:"detail-image",src:l.currentPost.image,alt:l.currentPost.title}))),r.a.createElement(d,null,r.a.createElement(f,{size:"md-10 md-offset-1"},r.a.createElement(E,null,r.a.createElement("h1",null,"Feature: ",l.currentPost.title),r.a.createElement("p",null,"Condition: ",l.currentPost.condition),r.a.createElement("p",null,"Functionality: ",l.currentPost.function),r.a.createElement("p",null,"Cleanliness: ",l.currentPost.clean),r.a.createElement("p",null,"Description: ",l.currentPost.body),r.a.createElement("p",null,"Date stamp: ",l.currentPost.date))),-1!==l.favorites.indexOf(l.currentPost)?r.a.createElement("button",{className:"btn btn-danger",onClick:function(){c({type:z,_id:l.currentPost._id})}},"Remove from Issues List"):r.a.createElement("button",{className:"btn",onClick:function(){c({type:"ADD_FAVORITE",post:l.currentPost})}},"Add to Issues List"),";"),r.a.createElement(d,null,r.a.createElement(f,{size:"md-2"},r.a.createElement(b.a,{to:"/home"},"\u2190 Back to Features")))):r.a.createElement("div",null,"loading..."))},W=function(){return r.a.createElement(E,{fluid:!0},r.a.createElement(d,null,r.a.createElement(f,{size:"md-12"},r.a.createElement(s,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var Q=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("img",{className:"logo",src:"../assets/logos/rsz_9.png",alt:"Settle logo with the letter T forming a house in the middle of the word"})," "),r.a.createElement("a",{className:"navbar-brand",href:"/home/"},"Condition Report"),r.a.createElement("a",{className:"navbar-brand",href:"/favorites/"},"Manage issues"))};function X(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(v.a)(c,2),u=o[0],i=o[1];return r.a.createElement(E,null,r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Sign up")),r.a.createElement("form",null,r.a.createElement(E,{className:"mt-3 px-5"},r.a.createElement(d,{className:"form-group"},r.a.createElement(f,{size:"12"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Email address (also your username)",name:"email",onChange:function(e){l(e.target.value)}}))),r.a.createElement(d,{className:"form-group"},r.a.createElement(f,{size:"12"},r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",onChange:function(e){i(e.target.value)}}))),r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:function(e){e.preventDefault(),console.log("sending credentials to backend  - email is: "+a),_.Signup({email:a,password:u})}},"Submit")),r.a.createElement(E,{className:"mt-4"},r.a.createElement("h3",null,"Your username is ",a,"!"),r.a.createElement("p",null,"Your password is ",u,"!")),r.a.createElement(b.a,{to:"/login"}," Already have an account? Log in")))}var Z=r.a.createContext({user:[],onClick:function(){}});function $(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(v.a)(c,2),u=o[0],i=o[1],s=Object(n.useContext)(Z),m=Object(v.a)(s,2);m[0],m[1];return r.a.createElement(E,null,r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Login")),r.a.createElement("form",null,r.a.createElement(E,{className:"mt-3 px-5"},r.a.createElement(d,{className:"form-group"},r.a.createElement(f,{size:"12"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Email address (also your username)",name:"email",onChange:function(e){l(e.target.value)}}))),r.a.createElement(d,{className:"form-group"},r.a.createElement(f,{size:"12"},r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",onChange:function(e){i(e.target.value)}}))),r.a.createElement(d,null,r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:function e(t){t.preventDefault(),_.Login({email:a,password:u}).then(function(t){return e(t.data)}).catch(function(e){return console.log(e)})}},"Submit"),r.a.createElement(b.a,{to:"/login"}," Don't have an account? Sign up")))))}var ee=function(){var e=V(),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){l({type:T}),l({type:A})},[]),r.a.createElement("div",{className:"container mb-5 mt-5"},r.a.createElement("h1",{className:"text-center"}," Issues to be addressed "),r.a.createElement("h3",{className:"mb-5 mt-5"},"Click on a feature to view in detail"),a.favorites.length?r.a.createElement(Y,null,a.favorites.map(function(e){return r.a.createElement(B,{key:e._id},r.a.createElement(b.a,{to:"/posts/"+e._id},r.a.createElement("strong",null,e.title," in ",e.room)),r.a.createElement(G,{onClick:function(){return t=e._id,void l({type:z,_id:t}).catch(function(e){return console.log(e)});var t}}))})):r.a.createElement("h3",null,"You haven't added any issues yet!"),r.a.createElement("div",{className:"mt-5"},r.a.createElement(b.a,{to:"home"},"Back to condition report")))};var te=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(L,null,r.a.createElement(Q,null),r.a.createElement(u.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:p}),r.a.createElement(i.a,{exact:!0,path:"/signup",component:X}),r.a.createElement(i.a,{exact:!0,path:"/signup",component:$}),r.a.createElement(i.a,{exact:!0,path:"/home",component:K}),r.a.createElement(i.a,{exact:!0,path:"/favorites",component:ee}),r.a.createElement(i.a,{exact:!0,path:"/posts/:id",component:H}),r.a.createElement(i.a,{component:W})))))};c.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.99533871.chunk.js.map